<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:p="http://primefaces.org/ui"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets">

    <!-- FORM DE BUSCA / NOVO -->
    <h:form id="formBuscaPac">

        <div class="card mb-3">
            <div class="card-header">
                Buscar
            </div>

            <div class="card-body">
                <div class="input-group">
                    <p:inputText id="filtro"
                                 value="#{pacienteMB.filtro}"
                                 styleClass="form-control"
                                 placeholder="Nome ou CPF" />

                    <p:commandButton value="Pesquisar"
                                     styleClass="btn btn-primary"
                                     action="#{pacienteMB.pesquisar}"
                                     update="tabelaPacientes"
                                     process="@form"
                                     icon="pi pi-search" />

                    <p:commandButton value="Novo"
                                     styleClass="btn btn-success ml-2"
                                     action="#{pacienteMB.novo}"
                                     update="tabelaPacientes"
                                     icon="pi pi-plus" />
                </div>
            </div>
        </div>

        <!-- TABELA DE PACIENTES -->
        <p:dataTable id="tabelaPacientes"
                     value="#{pacienteMB.pacientes}"
                     var="p"
                     emptyMessage="Nenhum registro encontrado."
                     styleClass="table table-striped">

            <p:column headerText="Nome">
                #{p.nome}
            </p:column>

            <p:column headerText="CPF">
                #{p.cpf}
            </p:column>

            <p:column headerText="Ações" style="width: 150px; text-align: center;">
                <p:commandLink value="Editar"
                               action="#{pacienteMB.editar(p.id)}"
                               update="tabelaPacientes" />

                <span> | </span>

                <p:commandLink value="Excluir"
                               action="#{pacienteMB.excluir(p.id)}"
                               update="tabelaPacientes" />
            </p:column>

        </p:dataTable>

    </h:form>

</ui:composition>
